# AlgoX Hybrid MVP - ××¨×›×™×˜×§×˜×•×¨×”

## ×’×™×©×”: Best of Both Worlds

××©×œ×‘ ××ª ×”×§×•×“ ×”×¢×•×‘×“ ×©×œ Algo-trade ×¢× ×”××¡×˜×¨×˜×’×™×•×ª ×”××ª×§×“××•×ª ×©×œ AlgoX.

---

## ğŸ—ï¸ ××¨×›×™×˜×§×˜×•×¨×” ×›×œ×œ×™×ª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AlgoX Hybrid MVP                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Data Layer    â”‚  â”‚  Signal Layer  â”‚               â”‚
â”‚  â”‚                â”‚  â”‚                â”‚               â”‚
â”‚  â”‚ â€¢ IBKR API     â”‚â†’ â”‚ â€¢ Structural   â”‚               â”‚
â”‚  â”‚ â€¢ FDA Data     â”‚  â”‚ â€¢ Event-Driven â”‚               â”‚
â”‚  â”‚ â€¢ Market Data  â”‚  â”‚ â€¢ Ricci Curve  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚           â†“                    â†“                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚      Strategy Orchestrator           â”‚               â”‚
â”‚  â”‚                                      â”‚               â”‚
â”‚  â”‚  â€¢ WFO Protocol (8 steps)           â”‚               â”‚
â”‚  â”‚  â€¢ LinUCB Gate Selection            â”‚               â”‚
â”‚  â”‚  â€¢ Regime Detection                 â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚           â†“                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚    Portfolio Optimization            â”‚               â”‚
â”‚  â”‚                                      â”‚               â”‚
â”‚  â”‚  â€¢ QP Solver (existing)             â”‚               â”‚
â”‚  â”‚  â€¢ Risk Management                  â”‚               â”‚
â”‚  â”‚  â€¢ Position Sizing                  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚           â†“                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚      Execution Layer                 â”‚               â”‚
â”‚  â”‚                                      â”‚               â”‚
â”‚  â”‚  â€¢ IBKR Order Execution             â”‚               â”‚
â”‚  â”‚  â€¢ Slippage Tracking                â”‚               â”‚
â”‚  â”‚  â€¢ Fill Reports                     â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚           â†“                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚    Monitoring & Analytics            â”‚               â”‚
â”‚  â”‚                                      â”‚               â”‚
â”‚  â”‚  â€¢ Performance Metrics              â”‚               â”‚
â”‚  â”‚  â€¢ Risk Metrics                     â”‚               â”‚
â”‚  â”‚  â€¢ Kill-Switches                    â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ××‘× ×” ×§×‘×¦×™× ×—×“×©

```
algo-x-mvp/
â”œâ”€â”€ algox/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ ibkr_client.py          # IBKR API wrapper
â”‚   â”‚   â”œâ”€â”€ fda_scraper.py          # FDA calendar scraper
â”‚   â”‚   â””â”€â”€ market_data.py          # Market data utilities
â”‚   â”œâ”€â”€ signals/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ structural.py           # Structural Arbitrage (REMXâ†’URNMâ†’QTUM)
â”‚   â”‚   â”œâ”€â”€ event_driven.py         # Event-Driven (FDA)
â”‚   â”‚   â”œâ”€â”€ ricci_curvature.py      # Forman-Ricci Curvature
â”‚   â”‚   â””â”€â”€ legacy.py               # Original 6 signals (fallback)
â”‚   â”œâ”€â”€ strategy/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ orchestrator.py         # Main strategy orchestrator
â”‚   â”‚   â”œâ”€â”€ wfo.py                  # Walk-Forward Optimization
â”‚   â”‚   â”œâ”€â”€ regime.py               # Regime detection
â”‚   â”‚   â””â”€â”€ gates.py                # LinUCB gate selection
â”‚   â”œâ”€â”€ portfolio/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ optimizer.py            # QP optimization (from Algo-trade)
â”‚   â”‚   â”œâ”€â”€ risk.py                 # Risk management
â”‚   â”‚   â””â”€â”€ sizing.py               # Position sizing
â”‚   â”œâ”€â”€ execution/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ ibkr_executor.py        # IBKR order execution
â”‚   â”‚   â””â”€â”€ slippage.py             # Slippage tracking
â”‚   â”œâ”€â”€ monitoring/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ metrics.py              # Performance metrics
â”‚   â”‚   â””â”€â”€ killswitch.py           # Kill-switches
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ validation.py           # CSCV, PSR, DSR
â”‚       â””â”€â”€ logging.py              # Structured logging
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ mvp_config.yaml             # MVP configuration
â”‚   â””â”€â”€ symbols.yaml                # Trading symbols
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ (unit tests)
â”œâ”€â”€ notebooks/
â”‚   â”œâ”€â”€ 01_research_structural.ipynb
â”‚   â”œâ”€â”€ 02_research_events.ipynb
â”‚   â””â”€â”€ 03_backtest.ipynb
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ download_data.py
â”‚   â””â”€â”€ run_backtest.py
â”œâ”€â”€ requirements_mvp.txt
â””â”€â”€ README_MVP.md
```

---

## ğŸ¯ 3 ××¡×˜×¨×˜×’×™×•×ª ×œ×™×‘×”

### 1. Structural Arbitrage

**××˜×¨×”**: × ×™×¦×•×œ ×§×©×¨×™ lead-lag ×‘×™×Ÿ ETFs ×§×©×•×¨×™×

**×©×¨×©×¨×ª ×¡×™×‘×ª×™×ª**:
```
REMX (Rare Earth Metals) â†’ URNM (Uranium Miners) â†’ QTUM (Quantum Computing)
```

**×”×’×™×•×Ÿ**:
- REMX ××›×™×œ ××ª×›×•×ª ××“××” × ×“×™×¨×•×ª (REE) ×”× ×“×¨×©×•×ª ×œ×™×™×¦×•×¨ ××’× ×˜×™×
- URNM ×ª×œ×•×™ ×‘×× ×¨×’×™×” ×’×¨×¢×™× ×™×ª (×¦×•×¨×š ×’×‘×•×” ×‘-REE)
- QTUM ×ª×œ×•×™ ×‘×—×•××¨×” ×§×•×•× ×˜×™×ª (×¦×•×¨×š ×‘-REE ×•×× ×¨×’×™×”)

**××•×ª**:
- ×—×™×©×•×‘ Granger Causality: REMX â†’ URNM â†’ QTUM
- ××¢×§×‘ ××—×¨ lead time (×‘×“×¨×š ×›×œ×œ 1-3 ×™××™×)
- ×–×™×”×•×™ breakouts ×‘-REMX â†’ ×¤×•×–×™×¦×™×” ×‘-URNM/QTUM

**Position Sizing**: 10-15% per ETF

---

### 2. Event-Driven (FDA Approvals)

**××˜×¨×”**: × ×™×¦×•×œ ××™×¨×•×¢×™ FDA ×œ×‘×™×•×˜×§

**××•×ª**:
- ××¢×§×‘ ××—×¨ FDA calendar (PDUFA dates)
- Entry: T-5 days (×œ×¤× ×™ ×”×—×œ×˜×”)
- **Exit: T-2 days** (×œ×× ×™×¢×ª ×¡×™×›×•×Ÿ ×‘×™× ××¨×™)

**×¡×™× ×•×Ÿ**:
- ×¨×§ Phase III+ (success rate > 60%)
- Market cap > $500M
- Volume > $5M daily

**Position Sizing**: 10% per position, max 2 concurrent

---

### 3. Ricci Curvature (Early Warning System)

**××˜×¨×”**: ×–×™×”×•×™ ×©×‘×¨×™×¨×™×•×ª ××¢×¨×›×ª×™×ª ×œ×¤× ×™ ×§×¨×™×¡×”

**×—×™×©×•×‘**:
- ×‘× ×™×™×ª ×’×¨×£ ×§×•×¨×œ×¦×™×•×ª (nodes = stocks, edges = correlation)
- ×—×™×©×•×‘ Forman-Ricci Curvature ×œ×›×œ edge
- ×–×™×”×•×™ negative curvature (×¡×™××Ÿ ×œ×©×‘×¨×™×¨×™×•×ª)

**××•×ª**:
- ×›××©×¨ avg(Ricci) < -0.2 â†’ ×¦××¦×•× ×—×©×™×¤×”
- ×›××©×¨ avg(Ricci) > 0.1 â†’ ×”×’×“×œ×ª ×—×©×™×¤×”

**×©×™××•×©**: Risk filter, ×œ× ××•×ª ×¢×¦×××™

---

## ğŸ“Š Walk-Forward Optimization (8 ×©×œ×‘×™×)

```python
# ×¤×¨×•×˜×•×§×•×œ WFO ××œ×

Step 1: Data Split (chronological)
  - Training: 12 months
  - Validation: 3 months
  - Test: 3 months

Step 2: Feature Engineering (on training only)
  - Granger causality tests
  - Ricci curvature computation
  - Event calendar alignment

Step 3: Normalization (fit on training)
  - Z-score parameters
  - Covariance matrix

Step 4: Model Training
  - Optimize hyperparameters (Bayesian)
  - Train on training set
  - Validate on validation set

Step 5: Out-of-Sample Testing
  - Test on test set (never seen)
  - Calculate OOS metrics

Step 6: Statistical Validation
  - CSCV (M=8)
  - PSR, DSR
  - WFE calculation

Step 7: Roll Forward
  - Shift window by 3 months
  - Repeat Steps 1-6

Step 8: Aggregate Results
  - Calculate overall WFE
  - Decision: Deploy if WFE > 60%
```

---

## ğŸ’° Risk Management

### Position Sizing Rules

```yaml
MAX_POSITION_SIZE: 0.15        # 15% per position
MAX_GROSS_EXPOSURE: 0.50       # 50% total capital
MAX_CONCURRENT_POSITIONS: 5
MAX_SECTOR_EXPOSURE: 0.30      # 30% per sector

BIOTECH_MAX: 0.10              # 10% for event-driven
ETF_MAX: 0.15                  # 15% for structural
```

### Kill-Switches

```yaml
CIRCUIT_BREAKERS:
  MAX_DD: 0.20                 # Stop if DD > 20%
  MIN_SHARPE: 0.5              # Stop if SR < 0.5 for 3 months
  MAX_DAILY_LOSS: 0.03         # Stop if daily loss > 3%
  PSR_THRESHOLD: 0.2           # Stop if PSR < 0.2
```

---

## ğŸ“ˆ Performance Targets (12 months)

```yaml
TARGETS:
  SHARPE_RATIO: 0.5-0.9
  ANNUAL_RETURN: 8-15%
  MAX_DRAWDOWN: 15-20%
  WIN_RATE: 50-60%
  NUM_TRADES: 15-20
  WFE: "> 60%"
```

---

## ğŸ› ï¸ Technology Stack

### Core
- Python 3.10+
- pandas, numpy, scipy
- cvxpy (QP optimization)
- ib_insync (IBKR)

### New Dependencies
- networkx (graph analysis)
- scikit-learn (Granger causality)
- requests (FDA scraping)
- beautifulsoup4 (web scraping)
- yfinance (market data fallback)

### Optional (Phase 2)
- FastAPI (REST API)
- Kafka (messaging)
- PostgreSQL (time-series data)
- Grafana (monitoring)

---

## ğŸš¦ Development Roadmap

### Week 1: Research & Design
- [x] Architecture document
- [ ] Research REMX/URNM/QTUM correlations
- [ ] Research FDA data sources
- [ ] Design WFO protocol

### Week 2: Core Implementation
- [ ] IBKR API integration
- [ ] Structural Arbitrage signals
- [ ] Event-Driven signals
- [ ] Ricci Curvature computation

### Week 3: Strategy & Portfolio
- [ ] WFO implementation
- [ ] Portfolio optimizer (adapt from Algo-trade)
- [ ] Risk management
- [ ] Kill-switches

### Week 4: Testing
- [ ] Unit tests
- [ ] Integration tests
- [ ] Backtest 2022-2024
- [ ] Walk-Forward validation

### Week 5-6: Paper Trading
- [ ] Connect to IBKR Paper Account
- [ ] Run live simulation
- [ ] Monitor performance
- [ ] Iterate on parameters

### Week 7-8: Live Deployment (if successful)
- [ ] Deploy with $8K-$10K
- [ ] Daily monitoring
- [ ] Weekly performance review

---

## âœ… Success Criteria (MVP)

```
MUST HAVE:
âœ“ OOS Sharpe > 0.5 (on 2022-2024 backtest)
âœ“ WFE > 60%
âœ“ Max DD < 25%
âœ“ Successfully execute 10+ trades in paper trading

NICE TO HAVE:
â—‡ Sharpe > 0.7
â—‡ Win Rate > 55%
â—‡ Positive returns in 2022 (bear market)
```

---

## ğŸ”„ Next Steps (Today)

1. âœ… Create architecture document
2. [ ] Create project structure
3. [ ] Research structural arbitrage (REMX/URNM/QTUM)
4. [ ] Implement IBKR client wrapper
5. [ ] Implement first signal (Structural Arbitrage)

---

**Author**: Claude + Erez
**Date**: 2025-10-27
**Version**: 0.1.0 (MVP)
